{"version":3,"sources":["constants.js","assets/song-purple.png","components/QueueView/QueueView.js","components/Admin/Admin.js","App.js","index.js","components/QueueView/QueueView.module.css","components/Admin/Admin.module.css"],"names":["config","url","Title","Typography","QueueView","useEffect","socket","SockJS","stompClient","Stomp","over","connect","frame","subscribe","messageOutput","updateSongList","useState","songQueue","setSongQueue","currentlyPlaying","setCurrentlyPlaying","drawerVisible","setDrawerVisible","loading","setLoading","Form","useForm","form","fetch","then","res","json","body","ok","console","log","resolveDateString","date","Date","toLocaleTimeString","spinning","className","styles","container","title","placement","onClose","visible","width","window","innerWidth","onFinish","values","tzoffset","getTimezoneOffset","localISOTime","now","toISOString","slice","requestedAt","method","headers","Accept","JSON","stringify","resetFields","labelCol","span","wrapperCol","Item","label","name","rules","required","message","offset","type","htmlType","innerContainer","style","color","textAlign","nowPlayingContainer","src","SongPurple","marginBottom","marginRight","level","marginLeft","listContainer","itemLayout","dataSource","bordered","locale","emptyText","renderItem","item","Meta","avatar","songName","description","requester","buttonHeader","onClick","size","Admin","buttonContainer","App","exact","path","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.e1ee0a2e.chunk.js","sourcesContent":["const prod = {\n  url: \"\",\n};\nconst dev = {\n  url: \"http://localhost:8080\",\n};\nexport const config = process.env.NODE_ENV === \"development\" ? dev : prod;\n","export default __webpack_public_path__ + \"static/media/song-purple.f8448c44.png\";","import { config } from \"../../constants\";\nimport React, { useState, useEffect } from \"react\";\nimport {\n  List,\n  Avatar,\n  Drawer,\n  Button,\n  Form,\n  Input,\n  Spin,\n  Typography,\n} from \"antd\";\nimport styles from \"./QueueView.module.css\";\nimport SongPurple from \"../../assets/song-purple.png\"\nimport {Stomp} from \"@stomp/stompjs\";\nimport SockJS from \"sockjs-client\";\n\nconst { Title } = Typography;\n\nfunction QueueView() {\n  useEffect(() => {\n    var socket = new SockJS(config.url + \"/update\");\n    var stompClient = Stomp.over(socket);\n    stompClient.connect({}, function(frame) {\n      stompClient.subscribe('/topic/update', function(messageOutput) {\n        updateSongList();\n    });\n    });\n    updateSongList();\n  }, []);\n\n  const [songQueue, setSongQueue] = useState([]);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState([]);\n  const [drawerVisible, setDrawerVisible] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [form] = Form.useForm();\n\n  function updateSongList() {\n    setLoading(true);\n    fetch(config.url + \"/karaoke\")\n      .then((res) => res.json())\n      .then((body) => {\n        setSongQueue(body);\n        fetch(config.url + \"/karaoke/currently-playing\")\n          .then((res) => {\n            if (res.ok) {\n              return res.json();\n            } else {\n              setLoading(false);\n              setCurrentlyPlaying([]);\n            }\n          })\n          .then((body) => {\n            if (body) {\n              console.log(body);\n              setCurrentlyPlaying([body]);\n            }\n            setLoading(false);\n          });\n      });\n  }\n\n  function resolveDateString(date) {\n    let timeString = new Date(date).toLocaleTimeString();\n    return timeString;\n  }\n\n  function onDrawerClose() {\n    setDrawerVisible(false);\n  }\n\n  function onFinish(values) {\n    setLoading(true);\n    var tzoffset = new Date().getTimezoneOffset() * 60000;\n    var localISOTime = new Date(Date.now() - tzoffset)\n      .toISOString()\n      .slice(0, -1);\n    values.requestedAt = localISOTime;\n    fetch(config.url + \"/karaoke\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(values),\n    }).then(() => {\n      updateSongList();\n      form.resetFields();\n      setDrawerVisible(false);\n    });\n  }\n\n  return (\n    <Spin spinning={loading}>\n      <div className={styles.container}>\n        <Drawer\n          title=\"Pedir música\"\n          placement=\"right\"\n          onClose={onDrawerClose}\n          visible={drawerVisible}\n          width={window.innerWidth > 900 ? 500 : window.innerWidth - 100}\n        >\n          <Form\n            form={form}\n            onFinish={onFinish}\n            labelCol={{ span: 8 }}\n            wrapperCol={{ span: 16 }}\n          >\n            <Form.Item\n              label=\"Nome da música\"\n              name=\"songName\"\n              rules={[\n                { required: true, message: \"Informe o nome de uma música!\" },\n              ]}\n            >\n              <Input />\n            </Form.Item>\n            <Form.Item\n              label=\"Seu nome\"\n              name=\"requester\"\n              rules={[{ required: true, message: \"Informe seu nome!\" }]}\n            >\n              <Input />\n            </Form.Item>\n            <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Enviar\n              </Button>\n            </Form.Item>\n          </Form>\n        </Drawer>\n        <div className={styles.innerContainer}>\n            <Title style={{ color: \"violet\", textAlign:\"center\" }}>\n              Karaokê da Gi 19\n            </Title>\n          <div className={styles.nowPlayingContainer}>\n            <Avatar src={SongPurple} style={{marginBottom:\"15px\", marginRight:\"15px\"}}/>\n            <Title level={2} style={{ color: \"white\" }}>\n              Tocando agora\n            </Title>\n            <Avatar src={SongPurple} style={{marginBottom:\"15px\" , marginLeft:\"15px\"}}/>\n          </div>\n          <div className={styles.listContainer}>\n            <List\n              itemLayout=\"horizontal\"\n              dataSource={currentlyPlaying}\n              bordered\n              locale={{ emptyText: \"Nenhuma música =/\" }}\n              renderItem={(item) => (\n                <List.Item>\n                  <List.Item.Meta\n                    avatar={\n                      <Avatar src=\"https://cdn0.iconfinder.com/data/icons/audio-vol-1b/100/1-41-512.png\" />\n                    }\n                    title={item.songName}\n                    description={item.requester}\n                  />\n                  <div>{resolveDateString(item.requestedAt)}</div>\n                </List.Item>\n              )}\n            />\n          </div>\n          <div className={styles.buttonHeader}>\n            <Button\n              type=\"primary\"\n              onClick={() => setDrawerVisible(true)}\n              style={{ width: \"100%\" }}\n              size=\"large\"\n            >\n              Pedir música\n            </Button>\n          </div>\n          <div className={styles.listContainer}>\n            <List\n              itemLayout=\"horizontal\"\n              dataSource={songQueue}\n              bordered\n              locale={{ emptyText: \"Nenhuma música =/\" }}\n              renderItem={(item) => (\n                <List.Item>\n                  <List.Item.Meta\n                    avatar={\n                      <Avatar src=\"https://cdn0.iconfinder.com/data/icons/audio-vol-1b/100/1-41-512.png\" />\n                    }\n                    title={item.songName}\n                    description={item.requester}\n                  />\n                  <div>{resolveDateString(item.requestedAt)}</div>\n                </List.Item>\n              )}\n            />\n          </div>\n        </div>\n      </div>\n    </Spin>\n  );\n}\n\nexport default QueueView;\n","import React, { useState } from \"react\";\nimport styles from \"./Admin.module.css\";\nimport { Button, Typography, Spin } from \"antd\";\nimport { config } from \"../../constants\";\n\nconst { Title } = Typography;\n\nfunction Admin() {\n  const [loading, setLoading] = useState(false);\n\n  function nextSong() {\n    setLoading(true);\n    fetch(config.url + \"/karaoke/next-song\", {\n      method: \"POST\",\n    }).then(() => setLoading(false));\n  }\n\n  function revert() {\n    setLoading(true);\n    fetch(config.url + \"/karaoke/revert\", {\n      method: \"POST\",\n    }).then(() => setLoading(false));\n  }\n\n  return (\n    <Spin spinning={loading}>\n      <div className={styles.container}>\n        <div className={styles.innerContainer}>\n          <Title>Admin</Title>\n          <div className={styles.buttonContainer}>\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              style={{ width: \"150px\" }}\n              onClick={nextSong}\n            >\n              Próxima música\n            </Button>\n          </div>\n          <div className={styles.buttonContainer}>\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              style={{ width: \"150px\" }}\n              onClick={revert}\n            >\n              Reverter\n            </Button>\n          </div>\n        </div>\n      </div>\n    </Spin>\n  );\n}\n\nexport default Admin;\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport React from \"react\";\nimport QueueView from \"./components/QueueView/QueueView\";\nimport Admin from \"./components/Admin/Admin\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <QueueView/>\n        </Route>\n        <Route exact path=\"/admin\">\n          <Admin/>\n        </Route>\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"QueueView_container__3AIiG\",\"buttonHeader\":\"QueueView_buttonHeader__3VU6h\",\"listContainer\":\"QueueView_listContainer__sLEHZ\",\"innerContainer\":\"QueueView_innerContainer__3jsFc\",\"nowPlayingContainer\":\"QueueView_nowPlayingContainer__1YAqM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Admin_container__3KZEs\",\"innerContainer\":\"Admin_innerContainer__acgoM\",\"buttonContainer\":\"Admin_buttonContainer__1Rp_C\"};"],"sourceRoot":""}